<section>
  <div class="container pt-3">
    <h4>Currency Converter</h4>
    <div class="card p-3">
      <form [formGroup]="conversionForm" (ngSubmit)="getConversion()">
        <div class="row ">
          <div class="col-md-4 col-12">
            <div class="">
              <input class="form-control" placeholder="input amount" formControlName="amount">
              <div *ngIf="submitted && conversionFormControl['amount'].errors"
                   [style.display]="'block'" class="invalid-feedback">

                <div *ngIf="conversionFormControl['amount'].errors['required']">
                  Amount is required
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-8 col-12">
            <div class="row">
              <div class="col-md-4 col-12 py-sm-1">
                <select class="form-control" formControlName="from">
                  <option></option>
                  <option *ngFor="let currency of currencyList">
                    {{currency}}
                  </option>
                </select>
                <div *ngIf="submitted && conversionFormControl['from'].errors"
                     [style.display]="'block'" class="invalid-feedback">

                  <div *ngIf="conversionFormControl['from'].errors['required']">
                    Beginning currency is required
                  </div>
                </div>
              </div>
              <div class="col-12 col-md-4 py-sm-1">
                <span class="btn btn-outline-secondary">Toggle</span>

              </div>
              <div class="col-12 col-md-4 py-sm-1">
                <select class="form-control" formControlName="to">
                  <option></option>
                  <option *ngFor="let currency of currencyList">
                    {{currency}}
                  </option>
                </select>
                <div *ngIf="submitted && conversionFormControl['to'].errors"
                     [style.display]="'block'" class="invalid-feedback">

                  <div *ngIf="conversionFormControl['to'].errors['required']">
                    Beginning currency is required
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col py-2">
                <button class="btn btn-primary w-100" type="submit">Convert</button>
              </div>
            </div>
          </div>
        </div>

      </form>

      <div class="row my-2" *ngIf="isConverting">
        <div class="alert alert-primary">
          Converting ...
        </div>
      </div>
      <div class="row" *ngIf="currencyDetails&&!isConverting">
        <div class="col align-self-center">
          <div class="card p-2 text-center">
            1 USD = 3 EUR
          </div>
        </div>
        <div class="col">
          <div class="card p-4 text-center  fs-2">
            100.00 USD
          </div>
        </div>
        <div class="col align-self-center">
          <a [routerLink]="">More details</a>
        </div>
      </div>
    </div>
  </div>
</section>
